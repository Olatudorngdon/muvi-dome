{"ast":null,"code":"import React from'react';import{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Watchlist=()=>{const[watchlist,setWatchlist]=useState([]);useEffect(()=>{const fetchWatchlist=async()=>{const token=localStorage.getItem('token');const response=await axios.get('/api/users/watchlist',{headers:{Authorization:\"Bearer \".concat(token)}});setWatchlist(response.data);};fetchWatchlist();},[]);const removeFromWatchlist=async movieId=>{const token=localStorage.getItem('token');await axios.delete(\"/api/users/watchlist/\".concat(movieId),{headers:{Authorization:\"Bearer \".concat(token)}});setWatchlist(watchlist.filter(movie=>movie.id!==movieId));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Watchlist\"}),watchlist.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Your watchlist is empty.\"}):/*#__PURE__*/_jsx(\"ul\",{children:watchlist.map(movie=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFromWatchlist(movie.id),children:\"Remove\"})]},movie.id))})]});};export default Watchlist;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Watchlist","watchlist","setWatchlist","fetchWatchlist","token","localStorage","getItem","response","get","headers","Authorization","concat","data","removeFromWatchlist","movieId","delete","filter","movie","id","children","length","map","title","onClick"],"sources":["C:/Users/wagwan/movie-recommendation-app/App-Overview/frontend/src/components/Watchlist.jsx"],"sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst Watchlist = () => {\n  const [watchlist, setWatchlist] = useState([]);\n\n  useEffect(() => {\n    const fetchWatchlist = async () => {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/users/watchlist', {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setWatchlist(response.data);\n    };\n\n    fetchWatchlist();\n  }, []);\n\n  const removeFromWatchlist = async (movieId) => {\n    const token = localStorage.getItem('token');\n    await axios.delete(`/api/users/watchlist/${movieId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    setWatchlist(watchlist.filter(movie => movie.id !== movieId));\n  };\n\n  return (\n    <div>\n      <h2>Your Watchlist</h2>\n      {watchlist.length === 0 ? (\n        <p>Your watchlist is empty.</p>\n      ) : (\n        <ul>\n          {watchlist.map(movie => (\n            <li key={movie.id}>\n              <h3>{movie.title}</h3>\n              <button onClick={() => removeFromWatchlist(movie.id)}>Remove</button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Watchlist;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAE9CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,sBAAsB,CAAE,CACvDC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAChC,CACF,CAAC,CAAC,CACFF,YAAY,CAACK,QAAQ,CAACK,IAAI,CAAC,CAC7B,CAAC,CAEDT,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,mBAAmB,CAAG,KAAO,CAAAC,OAAO,EAAK,CAC7C,KAAM,CAAAV,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAX,KAAK,CAACoB,MAAM,yBAAAJ,MAAA,CAAyBG,OAAO,EAAI,CACpDL,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAChC,CACF,CAAC,CAAC,CACFF,YAAY,CAACD,SAAS,CAACe,MAAM,CAACC,KAAK,EAAIA,KAAK,CAACC,EAAE,GAAKJ,OAAO,CAAC,CAAC,CAC/D,CAAC,CAED,mBACEf,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,gBAAc,CAAI,CAAC,CACtBlB,SAAS,CAACmB,MAAM,GAAK,CAAC,cACrBvB,IAAA,MAAAsB,QAAA,CAAG,0BAAwB,CAAG,CAAC,cAE/BtB,IAAA,OAAAsB,QAAA,CACGlB,SAAS,CAACoB,GAAG,CAACJ,KAAK,eAClBlB,KAAA,OAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAKF,KAAK,CAACK,KAAK,CAAK,CAAC,cACtBzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAMV,mBAAmB,CAACI,KAAK,CAACC,EAAE,CAAE,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,GAF9DF,KAAK,CAACC,EAGX,CACL,CAAC,CACA,CACL,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}